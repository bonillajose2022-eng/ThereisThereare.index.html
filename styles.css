/* =========================================================
   THERE IS / THERE ARE ‚Äî Interactive English Learning Site
   styles.css ‚Äî All styles, responsive, animations
   ========================================================= */

/* ---- Google Fonts ---- */
@import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&family=Fredoka+One&display=swap');

/* ---- CSS Variables ---- */
:root {
  --primary: #7B2FBE;
  --primary-light: #9D4EDD;
  --primary-dark: #5A189A;
  --secondary: #FF6B6B;
  --secondary-light: #FF8E8E;
  --accent: #FFD166;
  --accent2: #06D6A0;
  --accent3: #118AB2;
  --bg: #FFF9F0;
  --bg2: #F0E6FF;
  --text: #2D2D2D;
  --text-light: #666;
  --white: #ffffff;
  --correct: #06D6A0;
  --wrong: #FF6B6B;
  --warning: #FFD166;
  --radius: 16px;
  --shadow: 0 4px 20px rgba(123,47,190,0.15);
  --shadow-lg: 0 8px 32px rgba(123,47,190,0.25);
  --font-title: 'Fredoka One', cursive;
  --font-body: 'Nunito', sans-serif;
}

/* ---- Reset & Base ---- */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

html { scroll-behavior: smooth; font-size: 16px; }

body {
  font-family: var(--font-body);
  background: var(--bg);
  color: var(--text);
  line-height: 1.6;
  min-height: 100vh;
}

/* ---- Scrollbar ---- */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: var(--bg2); }
::-webkit-scrollbar-thumb { background: var(--primary-light); border-radius: 4px; }

/* =========================================================
   HEADER & NAV
   ========================================================= */
header {
  background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 50%, var(--accent3) 100%);
  color: white;
  padding: 16px 0 0 0;
  position: sticky;
  top: 0;
  z-index: 1000;
  box-shadow: var(--shadow-lg);
}

.header-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 24px 12px;
  flex-wrap: wrap;
  gap: 12px;
}

.site-title {
  font-family: var(--font-title);
  font-size: 1.8rem;
  letter-spacing: 1px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.site-title span.emoji { font-size: 2rem; animation: bounce 2s ease-in-out infinite; }

@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-6px); }
}

.header-actions { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; }

/* Score badge */
.score-badge {
  background: rgba(255,255,255,0.2);
  border: 2px solid rgba(255,255,255,0.5);
  border-radius: 50px;
  padding: 6px 16px;
  font-weight: 800;
  font-size: 0.95rem;
  display: flex;
  align-items: center;
  gap: 6px;
  backdrop-filter: blur(4px);
}

/* Teacher button */
.btn-teacher {
  background: var(--accent);
  color: var(--text);
  border: none;
  border-radius: 50px;
  padding: 8px 18px;
  font-family: var(--font-body);
  font-weight: 800;
  font-size: 0.9rem;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  gap: 6px;
}
.btn-teacher:hover { transform: scale(1.05); box-shadow: 0 4px 12px rgba(0,0,0,0.2); }
.btn-teacher.active { background: var(--accent2); color: white; }

/* Teacher mode banner */
.teacher-banner {
  display: none;
  background: var(--accent);
  color: var(--text);
  text-align: center;
  padding: 6px;
  font-weight: 800;
  font-size: 0.85rem;
  animation: slideDown 0.3s ease;
}
.teacher-banner.show { display: block; }

@keyframes slideDown {
  from { transform: translateY(-20px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

/* Nav tabs */
nav {
  display: flex;
  overflow-x: auto;
  gap: 4px;
  padding: 0 16px;
  scrollbar-width: none;
}
nav::-webkit-scrollbar { display: none; }

.nav-tab {
  background: rgba(255,255,255,0.15);
  color: rgba(255,255,255,0.85);
  border: none;
  border-radius: 12px 12px 0 0;
  padding: 10px 18px;
  font-family: var(--font-body);
  font-weight: 700;
  font-size: 0.85rem;
  cursor: pointer;
  white-space: nowrap;
  transition: all 0.2s;
  flex-shrink: 0;
}
.nav-tab:hover { background: rgba(255,255,255,0.25); color: white; }
.nav-tab.active {
  background: var(--bg);
  color: var(--primary);
  box-shadow: 0 -2px 8px rgba(0,0,0,0.1);
}

/* =========================================================
   PROGRESS BAR
   ========================================================= */
.progress-bar-container {
  background: var(--bg2);
  padding: 10px 24px;
  display: flex;
  align-items: center;
  gap: 12px;
  border-bottom: 2px solid rgba(123,47,190,0.1);
}
.progress-label { font-weight: 700; font-size: 0.85rem; color: var(--primary); white-space: nowrap; }
.progress-track {
  flex: 1;
  height: 14px;
  background: rgba(123,47,190,0.15);
  border-radius: 7px;
  overflow: hidden;
}
.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--primary), var(--accent2));
  border-radius: 7px;
  transition: width 0.6s ease;
  width: 0%;
}
.progress-pct { font-weight: 800; font-size: 0.85rem; color: var(--primary); min-width: 38px; text-align: right; }

/* =========================================================
   MAIN CONTENT
   ========================================================= */
main { max-width: 900px; margin: 0 auto; padding: 24px 16px; }

/* Section */
.section { display: none; animation: fadeIn 0.4s ease; }
.section.active { display: block; }

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Section header */
.section-header {
  text-align: center;
  margin-bottom: 28px;
}
.section-header h2 {
  font-family: var(--font-title);
  font-size: 2rem;
  color: var(--primary);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
}
.section-header p {
  color: var(--text-light);
  margin-top: 6px;
  font-size: 1rem;
}

/* =========================================================
   CARDS
   ========================================================= */
.card {
  background: var(--white);
  border-radius: var(--radius);
  padding: 24px;
  margin-bottom: 20px;
  box-shadow: var(--shadow);
  border: 2px solid transparent;
  transition: border-color 0.2s, transform 0.2s;
}
.card:hover { border-color: var(--primary-light); transform: translateY(-2px); }

.card-title {
  font-family: var(--font-title);
  font-size: 1.3rem;
  color: var(--primary);
  margin-bottom: 12px;
  display: flex;
  align-items: center;
  gap: 8px;
}

/* Grammar boxes */
.grammar-box {
  background: var(--bg2);
  border-left: 5px solid var(--primary);
  border-radius: 0 12px 12px 0;
  padding: 14px 18px;
  margin: 12px 0;
}
.grammar-box.green { border-color: var(--accent2); background: #f0fff9; }
.grammar-box.orange { border-color: var(--accent); background: #fffbf0; }
.grammar-box.red { border-color: var(--secondary); background: #fff5f5; }

.grammar-box p { font-size: 1rem; margin-bottom: 6px; }
.grammar-box p:last-child { margin-bottom: 0; }

/* Spanish tip */
.es-tip {
  background: #fff9e6;
  border: 2px dashed var(--accent);
  border-radius: 10px;
  padding: 8px 14px;
  font-size: 0.88rem;
  color: #7a5c00;
  margin: 8px 0;
  display: flex;
  align-items: flex-start;
  gap: 8px;
}
.es-tip::before { content: "üá™üá∏"; flex-shrink: 0; }

/* Formula box */
.formula {
  background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
  color: white;
  border-radius: 12px;
  padding: 14px 20px;
  font-size: 1.05rem;
  font-weight: 700;
  margin: 12px 0;
  text-align: center;
  letter-spacing: 0.5px;
  box-shadow: 0 4px 12px rgba(123,47,190,0.3);
}

/* Examples */
.example-list { list-style: none; margin: 10px 0; }
.example-list li {
  padding: 8px 12px;
  margin: 6px 0;
  background: #f8f4ff;
  border-radius: 8px;
  font-size: 0.95rem;
  display: flex;
  align-items: flex-start;
  gap: 8px;
}
.example-list li::before { content: "‚úèÔ∏è"; flex-shrink: 0; }

/* Highlight */
.highlight { color: var(--primary); font-weight: 800; }
.highlight-green { color: #00897B; font-weight: 800; }
.highlight-red { color: var(--secondary); font-weight: 800; }

/* Table */
.grammar-table {
  width: 100%;
  border-collapse: collapse;
  margin: 14px 0;
  font-size: 0.95rem;
}
.grammar-table th {
  background: var(--primary);
  color: white;
  padding: 10px 14px;
  text-align: left;
  font-weight: 700;
}
.grammar-table th:first-child { border-radius: 8px 0 0 0; }
.grammar-table th:last-child { border-radius: 0 8px 0 0; }
.grammar-table td { padding: 9px 14px; border-bottom: 1px solid #ede7f6; }
.grammar-table tr:nth-child(even) td { background: #faf8ff; }
.grammar-table tr:last-child td:first-child { border-radius: 0 0 0 8px; }
.grammar-table tr:last-child td:last-child { border-radius: 0 0 8px 0; }

/* Prepositions grid */
.prep-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap: 12px;
  margin: 14px 0;
}
.prep-card {
  background: linear-gradient(135deg, #f3e5ff, #e8f5ff);
  border: 2px solid var(--primary-light);
  border-radius: 12px;
  padding: 12px;
  text-align: center;
  transition: transform 0.2s;
}
.prep-card:hover { transform: scale(1.05); }
.prep-card .prep-word { font-family: var(--font-title); font-size: 1.1rem; color: var(--primary); }
.prep-card .prep-es { font-size: 0.8rem; color: var(--text-light); }
.prep-card .prep-example { font-size: 0.82rem; margin-top: 4px; color: var(--text); }

/* Glossary grid */
.glossary-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
  gap: 12px;
  margin: 14px 0;
}
.glossary-item {
  background: white;
  border: 2px solid #ede7f6;
  border-radius: 12px;
  padding: 12px 8px;
  text-align: center;
  transition: all 0.2s;
  cursor: default;
}
.glossary-item:hover { border-color: var(--primary); transform: translateY(-3px); box-shadow: var(--shadow); }
.glossary-item .glos-icon { font-size: 2rem; display: block; margin-bottom: 4px; }
.glossary-item .glos-word { font-weight: 800; font-size: 0.9rem; color: var(--primary); }
.glossary-item .glos-es { font-size: 0.75rem; color: var(--text-light); }

/* Error box */
.error-card {
  background: #fff5f5;
  border: 2px solid var(--secondary);
  border-radius: 12px;
  padding: 14px 18px;
  margin: 10px 0;
}
.error-card .wrong-text {
  text-decoration: line-through;
  color: var(--secondary);
  font-weight: 700;
}
.error-card .right-text {
  color: var(--accent2);
  font-weight: 700;
}
.error-card .explanation { font-size: 0.9rem; margin-top: 6px; color: var(--text); }

/* =========================================================
   EXERCISES COMMON
   ========================================================= */
.exercises-section h3 {
  font-family: var(--font-title);
  color: var(--primary);
  font-size: 1.4rem;
  margin: 28px 0 14px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.exercise-item {
  background: white;
  border-radius: var(--radius);
  padding: 20px;
  margin: 14px 0;
  box-shadow: var(--shadow);
  border: 2px solid transparent;
  transition: border-color 0.3s;
}
.exercise-item.correct { border-color: var(--correct); }
.exercise-item.incorrect { border-color: var(--wrong); }

.exercise-question {
  font-size: 1.05rem;
  font-weight: 700;
  margin-bottom: 12px;
  color: var(--text);
}
.exercise-number {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  background: var(--primary);
  color: white;
  border-radius: 50%;
  font-size: 0.85rem;
  font-weight: 800;
  margin-right: 8px;
  flex-shrink: 0;
}

/* Feedback */
.feedback {
  display: none;
  margin-top: 10px;
  padding: 10px 14px;
  border-radius: 10px;
  font-weight: 700;
  font-size: 0.95rem;
  animation: popIn 0.3s ease;
}
.feedback.show { display: flex; align-items: flex-start; gap: 8px; }
.feedback.correct-fb { background: #e8fff5; color: #00695C; border: 2px solid var(--correct); }
.feedback.wrong-fb { background: #fff5f5; color: #b71c1c; border: 2px solid var(--wrong); }

@keyframes popIn {
  from { transform: scale(0.9); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

/* Buttons */
.btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 10px 22px;
  border-radius: 50px;
  border: none;
  font-family: var(--font-body);
  font-weight: 800;
  font-size: 0.95rem;
  cursor: pointer;
  transition: all 0.2s;
}
.btn:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
.btn:active { transform: translateY(0); }

.btn-primary { background: var(--primary); color: white; }
.btn-primary:hover { background: var(--primary-dark); }
.btn-success { background: var(--accent2); color: white; }
.btn-danger { background: var(--secondary); color: white; }
.btn-warning { background: var(--accent); color: var(--text); }
.btn-sm { padding: 6px 14px; font-size: 0.85rem; }
.btn-retry { background: #ede7f6; color: var(--primary); }
.btn-retry:hover { background: var(--primary); color: white; }

/* Check / Submit */
.btn-check { margin-top: 10px; background: var(--accent3); color: white; }
.btn-check:hover { background: #0D6E8A; }

/* Inputs */
.blank-input {
  display: inline-block;
  min-width: 120px;
  padding: 4px 10px;
  border: 2px solid #ede7f6;
  border-radius: 8px;
  font-family: var(--font-body);
  font-size: 1rem;
  font-weight: 700;
  color: var(--primary);
  background: #faf8ff;
  outline: none;
  transition: border-color 0.2s;
  vertical-align: middle;
}
.blank-input:focus { border-color: var(--primary); background: white; }
.blank-input.correct-input { border-color: var(--correct); background: #e8fff5; }
.blank-input.wrong-input { border-color: var(--wrong); background: #fff5f5; }

/* MCQ Options */
.mcq-options { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px; }
.mcq-option {
  padding: 10px 20px;
  border: 2px solid #ede7f6;
  border-radius: 50px;
  background: white;
  font-family: var(--font-body);
  font-weight: 700;
  font-size: 0.95rem;
  cursor: pointer;
  transition: all 0.2s;
}
.mcq-option:hover:not(:disabled) { border-color: var(--primary); background: var(--bg2); }
.mcq-option.selected { border-color: var(--primary); background: var(--bg2); }
.mcq-option.correct-choice { border-color: var(--correct); background: #e8fff5; color: #00695C; }
.mcq-option.wrong-choice { border-color: var(--wrong); background: #fff5f5; color: #b71c1c; }
.mcq-option:disabled { cursor: default; }

/* T/F */
.tf-options { display: flex; gap: 12px; margin-top: 10px; }
.tf-btn {
  padding: 10px 28px;
  border: 2px solid #ede7f6;
  border-radius: 50px;
  background: white;
  font-family: var(--font-body);
  font-weight: 800;
  font-size: 1rem;
  cursor: pointer;
  transition: all 0.2s;
}
.tf-btn:hover:not(:disabled) { transform: scale(1.05); }
.tf-btn.true-btn:hover:not(:disabled) { background: #e8fff5; border-color: var(--correct); }
.tf-btn.false-btn:hover:not(:disabled) { background: #fff5f5; border-color: var(--wrong); }
.tf-btn.correct-choice { background: #e8fff5; border-color: var(--correct); color: #00695C; }
.tf-btn.wrong-choice { background: #fff5f5; border-color: var(--wrong); color: #b71c1c; }

/* Unscramble */
.scramble-words { display: flex; flex-wrap: wrap; gap: 8px; margin: 10px 0; }
.word-chip {
  padding: 8px 16px;
  background: var(--bg2);
  border: 2px solid var(--primary-light);
  border-radius: 50px;
  font-weight: 700;
  font-size: 0.95rem;
  cursor: pointer;
  transition: all 0.2s;
  user-select: none;
}
.word-chip:hover:not(:disabled) { background: var(--primary); color: white; transform: scale(1.05); }
.word-chip.selected { background: var(--primary); color: white; opacity: 0.6; }
.word-chip:disabled { cursor: default; }
.scramble-answer {
  min-height: 44px;
  border: 2px dashed var(--primary-light);
  border-radius: 12px;
  padding: 8px 12px;
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  align-items: center;
  margin: 8px 0;
  background: #faf8ff;
  font-weight: 700;
  font-size: 0.95rem;
  color: var(--primary);
}
.answer-chip {
  padding: 6px 14px;
  background: var(--primary);
  color: white;
  border-radius: 50px;
  font-weight: 700;
  font-size: 0.9rem;
  cursor: pointer;
  transition: opacity 0.2s;
}
.answer-chip:hover:not(.locked) { opacity: 0.7; }

/* Matching */
.matching-container { display: flex; gap: 24px; margin: 12px 0; flex-wrap: wrap; }
.matching-col { flex: 1; min-width: 140px; display: flex; flex-direction: column; gap: 8px; }
.match-item {
  padding: 10px 16px;
  border: 2px solid #ede7f6;
  border-radius: 12px;
  background: white;
  font-weight: 700;
  font-size: 0.9rem;
  cursor: pointer;
  transition: all 0.2s;
  text-align: center;
}
.match-item:hover:not(:disabled) { border-color: var(--primary); background: var(--bg2); }
.match-item.selected { border-color: var(--primary); background: var(--primary); color: white; }
.match-item.matched-correct { border-color: var(--correct); background: #e8fff5; color: #00695C; cursor: default; }
.match-item.matched-wrong { border-color: var(--wrong); background: #fff5f5; color: #b71c1c; animation: shake 0.4s; }

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-6px); }
  75% { transform: translateX(6px); }
}

/* Writing exercise */
.writing-area {
  width: 100%;
  min-height: 90px;
  padding: 12px;
  border: 2px solid #ede7f6;
  border-radius: 12px;
  font-family: var(--font-body);
  font-size: 0.95rem;
  resize: vertical;
  outline: none;
  transition: border-color 0.2s;
  line-height: 1.6;
}
.writing-area:focus { border-color: var(--primary); }

.rubric-list { list-style: none; margin: 12px 0; }
.rubric-item {
  padding: 7px 12px;
  margin: 5px 0;
  background: #faf8ff;
  border-radius: 8px;
  font-size: 0.88rem;
  display: flex;
  align-items: center;
  gap: 8px;
}
.rubric-item .rubric-icon { font-size: 1rem; }
.rubric-item.met { background: #e8fff5; color: #00695C; }
.rubric-item.unmet { background: #fff5f5; color: #b71c1c; }

.model-answer {
  background: #fff9e6;
  border: 2px dashed var(--accent);
  border-radius: 10px;
  padding: 10px 14px;
  font-size: 0.9rem;
  margin-top: 10px;
  display: none;
}
.model-answer.show { display: block; }
.model-answer strong { color: #7a5c00; }

/* Scene image */
.scene-container {
  border-radius: 16px;
  overflow: hidden;
  margin-bottom: 16px;
  border: 3px solid #ede7f6;
  background: white;
}
.scene-container svg, .scene-container img {
  width: 100%;
  height: auto;
  display: block;
}
.scene-caption {
  background: var(--primary);
  color: white;
  padding: 8px 16px;
  font-weight: 700;
  font-size: 0.9rem;
  text-align: center;
}

/* =========================================================
   MINI GAMES
   ========================================================= */
.game-container {
  background: white;
  border-radius: var(--radius);
  padding: 24px;
  box-shadow: var(--shadow);
  margin: 14px 0;
}
.game-title {
  font-family: var(--font-title);
  font-size: 1.5rem;
  color: var(--primary);
  text-align: center;
  margin-bottom: 14px;
}
.game-score-display {
  text-align: center;
  font-weight: 800;
  font-size: 1.1rem;
  color: var(--primary);
  margin-bottom: 16px;
}

/* Classroom detective */
.detective-scene { position: relative; }
.detective-question {
  background: linear-gradient(135deg, var(--primary), var(--primary-light));
  color: white;
  border-radius: 12px;
  padding: 14px 20px;
  font-size: 1.05rem;
  font-weight: 700;
  text-align: center;
  margin-bottom: 14px;
}

/* Flashcard game */
.flashcard {
  width: 100%;
  max-width: 440px;
  margin: 0 auto;
  perspective: 1000px;
}
.flashcard-inner {
  position: relative;
  width: 100%;
  height: 200px;
  transform-style: preserve-3d;
  transition: transform 0.6s ease;
  cursor: pointer;
}
.flashcard-inner.flipped { transform: rotateY(180deg); }
.flashcard-front, .flashcard-back {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  border-radius: 16px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 20px;
  text-align: center;
}
.flashcard-front {
  background: linear-gradient(135deg, var(--primary), var(--primary-light));
  color: white;
}
.flashcard-back {
  background: linear-gradient(135deg, var(--accent2), #04B488);
  color: white;
  transform: rotateY(180deg);
}
.flashcard-front .card-emoji { font-size: 3rem; margin-bottom: 10px; }
.flashcard-front .card-question { font-size: 1.2rem; font-weight: 800; }
.flashcard-back .card-answer { font-size: 1.3rem; font-weight: 800; }
.flashcard-back .card-example { font-size: 0.9rem; margin-top: 8px; opacity: 0.9; }

/* Bubble pop game */
.bubble-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
  margin: 16px 0;
}
.bubble {
  aspect-ratio: 1;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  font-size: 1.1rem;
  cursor: pointer;
  transition: all 0.2s;
  border: 3px solid transparent;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}
.bubble:hover:not(:disabled) { transform: scale(1.1); box-shadow: 0 6px 16px rgba(0,0,0,0.2); }
.bubble.correct-bubble { background: var(--correct) !important; color: white; animation: popBubble 0.4s; }
.bubble.wrong-bubble { background: var(--wrong) !important; color: white; animation: shake 0.4s; }
.bubble:disabled { cursor: default; }

@keyframes popBubble {
  0% { transform: scale(1); }
  50% { transform: scale(1.3); }
  100% { transform: scale(1); }
}

/* =========================================================
   FINAL QUIZ
   ========================================================= */
.quiz-intro {
  text-align: center;
  padding: 30px;
  background: white;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}
.quiz-intro h3 { font-family: var(--font-title); font-size: 1.8rem; color: var(--primary); margin-bottom: 14px; }
.quiz-intro p { color: var(--text-light); margin-bottom: 10px; }

.quiz-question {
  background: white;
  border-radius: var(--radius);
  padding: 22px;
  margin: 14px 0;
  box-shadow: var(--shadow);
  border-left: 5px solid var(--primary);
}
.quiz-question-num {
  font-size: 0.8rem;
  font-weight: 800;
  color: var(--primary-light);
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-bottom: 6px;
}
.quiz-question-text {
  font-size: 1.05rem;
  font-weight: 700;
  margin-bottom: 12px;
}

.quiz-results {
  background: white;
  border-radius: var(--radius);
  padding: 30px;
  box-shadow: var(--shadow-lg);
  text-align: center;
}
.quiz-score-circle {
  width: 140px;
  height: 140px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--primary), var(--primary-light));
  color: white;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  margin: 0 auto 20px;
  font-family: var(--font-title);
  box-shadow: 0 8px 24px rgba(123,47,190,0.4);
}
.quiz-score-circle .score-num { font-size: 2.5rem; line-height: 1; }
.quiz-score-circle .score-total { font-size: 1rem; opacity: 0.85; }

.result-item {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  padding: 10px 14px;
  border-radius: 10px;
  margin: 6px 0;
  text-align: left;
  font-size: 0.9rem;
}
.result-item.r-correct { background: #e8fff5; border: 1px solid var(--correct); }
.result-item.r-wrong { background: #fff5f5; border: 1px solid var(--wrong); }
.result-icon { font-size: 1.1rem; flex-shrink: 0; margin-top: 1px; }

.suggestions-box {
  background: var(--bg2);
  border-radius: 12px;
  padding: 16px 20px;
  margin-top: 20px;
  text-align: left;
}
.suggestions-box h4 { color: var(--primary); font-family: var(--font-title); font-size: 1.1rem; margin-bottom: 8px; }

.quiz-locked-msg {
  background: white;
  border-radius: var(--radius);
  padding: 40px 24px;
  text-align: center;
  box-shadow: var(--shadow);
}
.quiz-locked-msg .lock-emoji { font-size: 4rem; display: block; margin-bottom: 16px; }
.quiz-locked-msg h3 { font-family: var(--font-title); color: var(--primary); font-size: 1.5rem; margin-bottom: 10px; }

/* Teacher reset */
.teacher-reset-area { display: none; margin-top: 16px; }
.teacher-reset-area.show { display: block; }

/* =========================================================
   STARS / CELEBRATION
   ========================================================= */
.stars-display { font-size: 1.5rem; letter-spacing: 2px; }
.celebration {
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  pointer-events: none;
  z-index: 9999;
  overflow: hidden;
}
.confetti {
  position: absolute;
  width: 10px;
  height: 10px;
  border-radius: 2px;
  animation: confettiFall linear forwards;
}
@keyframes confettiFall {
  from { transform: translateY(-20px) rotate(0deg); opacity: 1; }
  to { transform: translateY(110vh) rotate(720deg); opacity: 0; }
}

/* =========================================================
   RESPONSIVE
   ========================================================= */
@media (max-width: 600px) {
  .site-title { font-size: 1.3rem; }
  .section-header h2 { font-size: 1.5rem; }
  .card { padding: 16px; }
  .exercises-section h3 { font-size: 1.2rem; }
  .exercise-item { padding: 16px; }
  .grammar-table { font-size: 0.82rem; }
  .grammar-table td, .grammar-table th { padding: 7px 10px; }
  .matching-container { flex-direction: column; }
  .mcq-options { flex-direction: column; }
  .bubble-grid { grid-template-columns: repeat(3, 1fr); }
  .prep-grid { grid-template-columns: repeat(2, 1fr); }
  .glossary-grid { grid-template-columns: repeat(3, 1fr); }
  .tf-options { flex-direction: column; }
}

@media (min-width: 601px) and (max-width: 900px) {
  .glossary-grid { grid-template-columns: repeat(4, 1fr); }
  .prep-grid { grid-template-columns: repeat(3, 1fr); }
}

/* =========================================================
   UTILITIES
   ========================================================= */
.hidden { display: none !important; }
.text-center { text-align: center; }
.mt-8 { margin-top: 8px; }
.mt-12 { margin-top: 12px; }
.mt-16 { margin-top: 16px; }
.mb-8 { margin-bottom: 8px; }
.mb-16 { margin-bottom: 16px; }
.flex-gap { display: flex; flex-wrap: wrap; gap: 10px; align-items: center; }

/* Image count badge */
.count-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: var(--primary);
  color: white;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  font-weight: 800;
  font-size: 1rem;
}

/* Tooltip */
[data-tooltip] { position: relative; }
[data-tooltip]:hover::after {
  content: attr(data-tooltip);
  position: absolute;
  bottom: calc(100% + 6px);
  left: 50%;
  transform: translateX(-50%);
  background: var(--text);
  color: white;
  padding: 5px 10px;
  border-radius: 8px;
  font-size: 0.8rem;
  white-space: nowrap;
  pointer-events: none;
  z-index: 10;
}

/* Separator */
.divider {
  height: 3px;
  background: linear-gradient(90deg, transparent, var(--primary-light), transparent);
  border-radius: 2px;
  margin: 20px 0;
}

/* Sticky footer */
footer {
  text-align: center;
  padding: 20px;
  background: var(--primary);
  color: rgba(255,255,255,0.8);
  font-size: 0.85rem;
  margin-top: 40px;
}
